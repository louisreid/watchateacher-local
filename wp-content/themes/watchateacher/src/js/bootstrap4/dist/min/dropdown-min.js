"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Dropdown=function($){var e="dropdown",t="4.0.0-alpha",n="bs.dropdown",r="."+n,a=".data-api",i=$.fn[e],o={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+a,KEYDOWN_DATA_API:"keydown"+r+a},s={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},l={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},c=function(){function e(t){_classCallCheck(this,e),this._element=t,this._addEventListeners()}return _createClass(e,[{key:"toggle",value:function t(){if(this.disabled||$(this).hasClass(s.DISABLED))return!1;var n=e._getParentFromElement(this),r=$(n).hasClass(s.OPEN);if(e._clearMenus(),r)return!1;if("ontouchstart"in document.documentElement&&!$(n).closest(l.NAVBAR_NAV).length){var a=document.createElement("div");a.className=s.BACKDROP,$(a).insertBefore(this),$(a).on("click",e._clearMenus)}var i={relatedTarget:this},c=$.Event(o.SHOW,i);return $(n).trigger(c),!c.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded","true"),$(n).toggleClass(s.OPEN),$(n).trigger($.Event(o.SHOWN,i)),!1)}},{key:"dispose",value:function e(){$.removeData(this._element,n),$(this._element).off(r),this._element=null}},{key:"_addEventListeners",value:function e(){$(this._element).on(o.CLICK,this.toggle)}}],[{key:"_jQueryInterface",value:function t(r){return this.each(function(){var t=$(this).data(n);if(t||$(this).data(n,t=new e(this)),"string"==typeof r){if(void 0===t[r])throw new Error('No method named "'+r+'"');t[r].call(this)}})}},{key:"_clearMenus",value:function t(n){if(!n||3!==n.which){var r=$(l.BACKDROP)[0];r&&r.parentNode.removeChild(r);for(var a=$.makeArray($(l.DATA_TOGGLE)),i=0;i<a.length;i++){var c=e._getParentFromElement(a[i]),d={relatedTarget:a[i]};if($(c).hasClass(s.OPEN)&&!(n&&"click"===n.type&&/input|textarea/i.test(n.target.tagName)&&$.contains(c,n.target))){var u=$.Event(o.HIDE,d);$(c).trigger(u),u.isDefaultPrevented()||(a[i].setAttribute("aria-expanded","false"),$(c).removeClass(s.OPEN).trigger($.Event(o.HIDDEN,d)))}}}}},{key:"_getParentFromElement",value:function e(t){var n=void 0,r=Util.getSelectorFromElement(t);return r&&(n=$(r)[0]),n||t.parentNode}},{key:"_dataApiKeydownHandler",value:function t(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!$(this).hasClass(s.DISABLED))){var r=e._getParentFromElement(this),a=$(r).hasClass(s.OPEN);if(!a&&27!==n.which||a&&27===n.which){if(27===n.which){var i=$(r).find(l.DATA_TOGGLE)[0];$(i).trigger("focus")}return void $(this).trigger("click")}var o=$.makeArray($(l.VISIBLE_ITEMS));if(o=o.filter(function(e){return e.offsetWidth||e.offsetHeight}),o.length){var c=o.indexOf(n.target);38===n.which&&c>0&&c--,40===n.which&&c<o.length-1&&c++,~c||(c=0),o[c].focus()}}}},{key:"VERSION",get:function e(){return t}}]),e}();return $(document).on(o.KEYDOWN_DATA_API,l.DATA_TOGGLE,c._dataApiKeydownHandler).on(o.KEYDOWN_DATA_API,l.ROLE_MENU,c._dataApiKeydownHandler).on(o.KEYDOWN_DATA_API,l.ROLE_LISTBOX,c._dataApiKeydownHandler).on(o.CLICK_DATA_API,c._clearMenus).on(o.CLICK_DATA_API,l.DATA_TOGGLE,c.prototype.toggle).on(o.CLICK_DATA_API,l.FORM_CHILD,function(e){e.stopPropagation()}),$.fn[e]=c._jQueryInterface,$.fn[e].Constructor=c,$.fn[e].noConflict=function(){return $.fn[e]=i,c._jQueryInterface},c}(jQuery);