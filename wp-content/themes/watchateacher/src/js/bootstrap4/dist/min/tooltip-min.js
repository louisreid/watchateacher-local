"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Tooltip=function($){if(void 0===window.Tether)throw new Error("Bootstrap tooltips require Tether (http://github.hubspot.com/tether/)");var t="tooltip",e="4.0.0-alpha",i="bs.tooltip",n="."+i,r=$.fn[t],o=150,s="bs-tether",a={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[]},l={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array"},c={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},u={IN:"in",OUT:"out"},h={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},f={FADE:"fade",IN:"in"},g={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},v={element:!1,enabled:!1},d={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},m=function(){function r(t,e){_classCallCheck(this,r),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return _createClass(r,[{key:"enable",value:function t(){this._isEnabled=!0}},{key:"disable",value:function t(){this._isEnabled=!1}},{key:"toggleEnabled",value:function t(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function t(e){if(e){var i=this.constructor.DATA_KEY,n=$(e.currentTarget).data(i);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),$(e.currentTarget).data(i,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if($(this.getTipElement()).hasClass(f.IN))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function t(){clearTimeout(this._timeout),this.cleanupTether(),$.removeData(this.element,this.constructor.DATA_KEY),$(this.element).off(this.constructor.EVENT_KEY),this.tip&&$(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null}},{key:"show",value:function t(){var e=this,i=$.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){$(this.element).trigger(i);var n=$.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!n)return;var o=this.getTipElement(),a=Util.getUID(this.constructor.NAME);o.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&$(o).addClass(f.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,c=this._getAttachment(l);$(o).data(this.constructor.DATA_KEY,this).appendTo(document.body),$(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:c,element:o,target:this.element,classes:v,classPrefix:s,offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),Util.reflow(o),this._tether.position(),$(o).addClass(f.IN);var h=function t(){var i=e._hoverState;e._hoverState=null,$(e.element).trigger(e.constructor.Event.SHOWN),i===u.OUT&&e._leave(null,e)};if(Util.supportsTransitionEnd()&&$(this.tip).hasClass(f.FADE))return void $(this.tip).one(Util.TRANSITION_END,h).emulateTransitionEnd(r._TRANSITION_DURATION);h()}}},{key:"hide",value:function t(e){var i=this,n=this.getTipElement(),r=$.Event(this.constructor.Event.HIDE),s=function t(){i._hoverState!==u.IN&&n.parentNode&&n.parentNode.removeChild(n),i.element.removeAttribute("aria-describedby"),$(i.element).trigger(i.constructor.Event.HIDDEN),i.cleanupTether(),e&&e()};$(this.element).trigger(r),r.isDefaultPrevented()||($(n).removeClass(f.IN),Util.supportsTransitionEnd()&&$(this.tip).hasClass(f.FADE)?$(n).one(Util.TRANSITION_END,s).emulateTransitionEnd(o):s(),this._hoverState="")}},{key:"isWithContent",value:function t(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function t(){return this.tip=this.tip||$(this.config.template)[0]}},{key:"setContent",value:function t(){var e=$(this.getTipElement());this.setElementContent(e.find(g.TOOLTIP_INNER),this.getTitle()),e.removeClass(f.FADE).removeClass(f.IN),this.cleanupTether()}},{key:"setElementContent",value:function t(e,i){var n=this.config.html;"object"==typeof i&&(i.nodeType||i.jquery)?n?$(i).parent().is(e)||e.empty().append(i):e.text($(i).text()):e[n?"html":"text"](i)}},{key:"getTitle",value:function t(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e}},{key:"cleanupTether",value:function t(){this._tether&&this._tether.destroy()}},{key:"_getAttachment",value:function t(e){return c[e.toUpperCase()]}},{key:"_setListeners",value:function t(){var e=this,i=this.config.trigger.split(" ");i.forEach(function(t){if("click"===t)$(e.element).on(e.constructor.Event.CLICK,e.config.selector,$.proxy(e.toggle,e));else if(t!==d.MANUAL){var i=t===d.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,n=t===d.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;$(e.element).on(i,e.config.selector,$.proxy(e._enter,e)).on(n,e.config.selector,$.proxy(e._leave,e))}}),this.config.selector?this.config=$.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function t(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}},{key:"_enter",value:function t(e,i){var n=this.constructor.DATA_KEY;return i=i||$(e.currentTarget).data(n),i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),$(e.currentTarget).data(n,i)),e&&(i._activeTrigger["focusin"===e.type?d.FOCUS:d.HOVER]=!0),$(i.getTipElement()).hasClass(f.IN)||i._hoverState===u.IN?void(i._hoverState=u.IN):(clearTimeout(i._timeout),i._hoverState=u.IN,i.config.delay&&i.config.delay.show?void(i._timeout=setTimeout(function(){i._hoverState===u.IN&&i.show()},i.config.delay.show)):void i.show())}},{key:"_leave",value:function t(e,i){var n=this.constructor.DATA_KEY;if(i=i||$(e.currentTarget).data(n),i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),$(e.currentTarget).data(n,i)),e&&(i._activeTrigger["focusout"===e.type?d.FOCUS:d.HOVER]=!1),!i._isWithActiveTrigger())return clearTimeout(i._timeout),i._hoverState=u.OUT,i.config.delay&&i.config.delay.hide?void(i._timeout=setTimeout(function(){i._hoverState===u.OUT&&i.hide()},i.config.delay.hide)):void i.hide()}},{key:"_isWithActiveTrigger",value:function t(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}},{key:"_getConfig",value:function e(i){return i=$.extend({},this.constructor.Default,$(this.element).data(),i),i.delay&&"number"==typeof i.delay&&(i.delay={show:i.delay,hide:i.delay}),Util.typeCheckConfig(t,i,this.constructor.DefaultType),i}},{key:"_getDelegateConfig",value:function t(){var e={};if(this.config)for(var i in this.config)this.constructor.Default[i]!==this.config[i]&&(e[i]=this.config[i]);return e}}],[{key:"_jQueryInterface",value:function t(e){return this.each(function(){var t=$(this).data(i),n="object"==typeof e?e:null;if((t||!/destroy|hide/.test(e))&&(t||(t=new r(this,n),$(this).data(i,t)),"string"==typeof e)){if(void 0===t[e])throw new Error('No method named "'+e+'"');t[e]()}})}},{key:"VERSION",get:function t(){return e}},{key:"Default",get:function t(){return a}},{key:"NAME",get:function e(){return t}},{key:"DATA_KEY",get:function t(){return i}},{key:"Event",get:function t(){return h}},{key:"EVENT_KEY",get:function t(){return n}},{key:"DefaultType",get:function t(){return l}}]),r}();return $.fn[t]=m._jQueryInterface,$.fn[t].Constructor=m,$.fn[t].noConflict=function(){return $.fn[t]=r,m._jQueryInterface},m}(jQuery);